Bootstrap: docker
From: nipreps/mriqc:latest

%post
    # Install additional required packages
    pip install --no-cache-dir \
        pandas \
        nidmresults \
        rdflib \
        pybids \
        pynidm

%files
    # Copy the main script and required files
    run.py /opt/
    mriqc_dictionary_v1.csv /opt/
    mriqc_software_metadata.csv /opt/

%post
    # Make the script executable
    chmod +x /opt/run.py

%environment
    export PATH="/opt:$PATH"

%runscript
    exec /opt/run.py "$@" 